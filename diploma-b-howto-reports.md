### Отчёты

1. Добавляем отчёт **«Взаиморасчёты с контрагентами»**:
  * включаем в подсистему **«Сделки»**;
  * создаём основную схему компоновки данных;
  * добавляем набор данных — запрос, в котором выбираем контрагента, сумму: начальный остаток, приход, расход и конечный остаток из виртуальной таблицы «ОстаткиИОбороты» регистра «Взаиморасчёты» без параметров;
  * даём полям сумм нормальные заголовки: «Начальный остаток» вместо «Сумма начальный остаток» и т. д.;
  * на закладке «Ресурсы» добавляем все суммы: начальный остаток, приход, расход и конечный остаток с настройками по умолчанию;
  * в настройках:
    * добавляем группировку по контрагенту;
    * на закладке «Выбранные поля» выбираем поле «Контрагент» и все суммы;
    * на закладке «Отбор» добавляем поле «Контрагент» и включаем быстрый доступ;
  * нроверяем: отчёт должен выглядеть примерно так:
![Отчет ВзаиморасчетыСКонтрагентами](diploma-b-reports-1.png)

1. Добавляем отчёт **«Движение товаров»**:
  * включаем в подсистему **«Сделки»**;
  * создаём основную схему компоновки данных;
  * добавляем набор данных — запрос, в котором выбираем номенклатуру, сумму и количество: начальный остаток, приход, расход и конечный остаток из виртуальной таблицы «ОстаткиИОбороты» регистра «Товары» без параметров;
  * на закладке «Ресурсы» добавляем все суммы и количества: начальный остаток, приход, расход и конечный остаток. В колонке «Рассчитывать по» для количеств оставляем только расчёт по номенклатуре без иерархии, чтобы не складывать разнородные количества;
  * в настройках:
    * добавляем группировку по номенклатуре с иерархией;
    * на закладке «Параметры» включаем использование автоматически добавленных параметров «Начало периода» и «Конец периода»; включаем их в пользовательские настройки с быстрым доступом;
    * на закладке «Выбранные поля» выбираем поле «Номенклатура», все суммы и количества. Суммы и количества объединяем в группы «Начальный остаток», «Приход», «Расход», «Конечный остаток». Суммам и количествам, выбрав в контекстном меню команду «Заголовок», даём краткие заголовки, достаточные в контексте группы: «Количество», «Сумма»;
    * на закладке «Отбор» добавляем поле «Номенклатура» и включаем быстрый доступ;
  * Проверяем: отчёт должен выглядеть примерно так:
![Отчет ВзаиморасчетыСКонтрагентами](diploma-b-reports-2.png)

3. Добавляем отчёт **«ДоходыИРасходы»**:
  * включаем в подсистему **«Сделки»**;
  * создаём основную схему компоновки данных;
  * добавляем набор данных — запрос, в котором конструкцией «Объединить всё» объединяем два подзапроса:
    * в первом получаем номенклатуру, оборот по сумме с псевдонимом «Доходы» и 0 с псевдонимом «Расходы» из виртуальной таблицы «Обороты регистра Доходы»;
    * во втором получаем номенклатуру, 0 с псевдонимом «Доходы» и оборот по сумме с псевдонимом «Расходы» из виртуальной таблицы «Обороты регистра Расходы»:
![Отчет ДоходыИРасходы Конструктор запроса](diploma-b-reports-master.png)    
  * добавляем вычисляемое поле «Прибыль» с выражением «Доходы — Расходы»;
  * на закладке «Ресурсы» добавляем все «Доходы»», «Расходы» и «Прибыль» с настройками по умолчанию;
  * в настройках:
    * добавляем группировку по номенклатуре с иерархией;
    * на закладке «Параметры» включаем использование автоматически добавленных параметров «Начало периода» и «Конец периода»; включаем их в пользовательские настройки с быстрым доступом;
    * выбираем поля «Номенклатура», «Доходы», «Расходы», «Прибыль»;
  * проверяем: отчёт должен выглядеть примерно так:
![Отчет Доходы и расходы](diploma-b-reports-3.png)   
